<div>
   <h2>Productos</h2>
   <hr>
   <a href="guardar_producto" class="d-block w-100"><button class="btn btn-primary w-100">New</button></a>
    <br>
  <table class="table ">
    <thead class="table-danger text-center">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Precio</th>
        <th>Categoria</th>
        <th></th>
      </tr>
    </thead>
    <tbody class="text-center">
        {{#each products}}
        <tr id="{{this.id}}">
            <td>{{this.id}}</td>
            <td>{{this.name}}</td>
            <td>{{this.description}}</td>
            <td>{{this.price}}</td>
            <td>{{this.category.name}}</td>
            <td>
                <a href="guardar_producto?id={{this.id}}" class="btn btn-info"><i class="fa-solid fa-pen"></i></a>
                <button href="" class="btn btn-danger" onclick="eliminar({{this.id}})"><i class="fa-solid fa-trash"></i> </button>
            </td>
        </tr>
        {{/each }}
    </tbody>
  </table>
  
</div>

<script>
      eliminar = (id) =>{ res = confirm("Seguro que desea eliminar este producto")
      
  if(res){ 
    fetch('/delete_producto', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        id :id
      })
    })
    document.getElementById(id).remove()
  }
}
</script>